<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Simple Pong Game</title>
    <style>
        /* A simple retro-inspired font */
        @import url('https://fonts.googleapis.com/css2?family=Press+Start+2P&display=swap');

        body {
            margin: 0;
            padding: 0;
            display: flex;
            justify-content: center;
            align-items: center;
            height: 100vh;
            background-color: #1a1a1a;
            color: #fafafa;
            font-family: 'Press Start 2P', cursive;
            overflow: hidden; /* Prevents scrollbars from appearing */
        }

        .game-container {
            display: flex;
            flex-direction: column;
            align-items: center;
            text-align: center;
        }

        h1 {
            font-size: 2.5rem;
            margin-bottom: 0.5rem;
            color: #fff;
            text-shadow: 0 0 10px #fff, 0 0 20px #ff00ff, 0 0 30px #00ffff;
        }

        p {
            font-size: 0.9rem;
            margin-top: 0;
            margin-bottom: 20px;
            color: #ccc;
        }

        canvas {
            background-color: #000;
            border: 4px solid #fff;
            box-shadow: 0 0 20px #fff;
            border-radius: 10px;
            cursor: none; /* Hide the cursor over the game canvas */
        }

        /* Responsive styling for smaller screens */
        @media (max-width: 600px) {
            h1 {
                font-size: 1.8rem;
            }
            p {
                font-size: 0.8rem;
            }
        }
    </style>
</head>
<body>
    <div class="game-container">
        <h1>PONG</h1>
        <p>Move your mouse up and down to control the right paddle.</p>
        <canvas id="pongCanvas"></canvas>
    </div>

    <script>
        const canvas = document.getElementById('pongCanvas');
        const ctx = canvas.getContext('2d');

        // --- Game Configuration ---
        const PADDLE_WIDTH = 15;
        const PADDLE_HEIGHT = 100;
        const BALL_RADIUS = 10;
        const WINNING_SCORE = 5;

        let canvasWidth = window.innerWidth * 0.8 > 800 ? 800 : window.innerWidth * 0.8;
        let canvasHeight = window.innerHeight * 0.7 > 600 ? 600 : window.innerHeight * 0.7;
        
        canvas.width = canvasWidth;
        canvas.height = canvasHeight;

        // --- Game State ---
        let ball, player, ai, scores;

        function initializeGame() {
            // Ball object
            ball = {
                x: canvas.width / 2,
                y: canvas.height / 2,
                radius: BALL_RADIUS,
                speedX: 5,
                speedY: 5
            };

            // Player paddle (right)
            player = {
                x: canvas.width - PADDLE_WIDTH - 20,
                y: canvas.height / 2 - PADDLE_HEIGHT / 2,
                width: PADDLE_WIDTH,
                height: PADDLE_HEIGHT
            };

            // AI paddle (left)
            ai = {
                x: 20,
                y: canvas.height / 2 - PADDLE_HEIGHT / 2,
                width: PADDLE_WIDTH,
                height: PADDLE_HEIGHT,
                speed: 3.5 // AI difficulty
            };

            // Scores
            scores = {
                player: 0,
                ai: 0
            };
        }
        
        // --- Drawing Functions ---
        function drawRect(x, y, w, h, color) {
            ctx.fillStyle = color;
            ctx.fillRect(x, y, w, h);
        }

        function drawCircle(x, y, r, color) {
            ctx.fillStyle = color;
            ctx.beginPath();
            ctx.arc(x, y, r, 0, Math.PI * 2, false);
            ctx.closePath();
            ctx.fill();
        }

        function drawText(text, x, y, color, size = 60) {
            ctx.fillStyle = color;
            ctx.font = `${size}px 'Press Start 2P'`;
            ctx.textAlign = 'center';
            ctx.fillText(text, x, y);
        }
        
        function drawNet() {
            for (let i = 0; i < canvas.height; i += 30) {
                drawRect(canvas.width / 2 - 2.5, i, 5, 15, '#555');
            }
        }

        // --- Game Update Logic ---
        function update() {
            // Move ball
            ball.x += ball.speedX;
            ball.y += ball.speedY;

            // Ball collision with top/bottom walls
            if (ball.y + ball.radius > canvas.height || ball.y - ball.radius < 0) {
                ball.speedY = -ball.speedY;
            }
            
            // AI paddle movement
            let aiCenter = ai.y + ai.height / 2;
            if (aiCenter < ball.y - 35) {
                ai.y += ai.speed;
            } else if (aiCenter > ball.y + 35) {
                ai.y -= ai.speed;
            }

            // Paddle constraints
            if (ai.y < 0) ai.y = 0;
            if (ai.y + ai.height > canvas.height) ai.y = canvas.height - ai.height;
            if (player.y < 0) player.y = 0;
            if (player.y + player.height > canvas.height) player.y = canvas.height - player.height;


            // Ball collision with paddles
            let paddle = (ball.x < canvas.width / 2) ? ai : player;

            if (collision(ball, paddle)) {
                let collidePoint = (ball.y - (paddle.y + paddle.height / 2));
                collidePoint = collidePoint / (paddle.height / 2); // Normalize to -1 to 1

                let angleRad = (Math.PI / 4) * collidePoint; // 45 degrees
                
                let direction = (ball.x < canvas.width / 2) ? 1 : -1;
                ball.speedX = direction * 5 * Math.cos(angleRad);
                ball.speedY = 5 * Math.sin(angleRad);
                
                // Increase speed slightly on each hit
                 if (Math.abs(ball.speedX) < 15) {
                    ball.speedX *= 1.1;
                    ball.speedY *= 1.1;
                }
            }

            // Scoring
            if (ball.x - ball.radius < 0) {
                scores.player++;
                resetBall();
            } else if (ball.x + ball.radius > canvas.width) {
                scores.ai++;
                resetBall();
            }
        }
        
        function collision(b, p) {
            b.top = b.y - b.radius;
            b.bottom = b.y + b.radius;
            b.left = b.x - b.radius;
            b.right = b.x + b.radius;

            p.top = p.y;
            p.bottom = p.y + p.height;
            p.left = p.x;
            p.right = p.x + p.width;

            return b.right > p.left && b.bottom > p.top && b.left < p.right && b.top < p.bottom;
        }
        
        function resetBall() {
            ball.x = canvas.width / 2;
            ball.y = canvas.height / 2;
            ball.speedX = -ball.speedX; // Change direction
            ball.speedY = 5 * (Math.random() > 0.5 ? 1 : -1); // Randomize Y direction
        }


        // --- Render the Game ---
        function render() {
            // Clear canvas
            drawRect(0, 0, canvas.width, canvas.height, '#000');
            
            // Draw net
            drawNet();

            // Draw scores
            drawText(scores.ai, canvas.width / 4, canvas.height / 5, '#fff');
            drawText(scores.player, 3 * canvas.width / 4, canvas.height / 5, '#fff');

            // Draw paddles
            drawRect(player.x, player.y, player.width, player.height, '#fff');
            drawRect(ai.x, ai.y, ai.width, ai.height, '#fff');
            
            // Draw ball
            drawCircle(ball.x, ball.y, ball.radius, '#fff');
        }

        // --- Main Game Loop ---
        function gameLoop() {
            if (scores.player >= WINNING_SCORE || scores.ai >= WINNING_SCORE) {
                let winner = scores.player > scores.ai ? 'YOU WIN!' : 'CPU WINS!';
                drawRect(0, 0, canvas.width, canvas.height, 'rgba(0,0,0,0.8)');
                drawText(winner, canvas.width / 2, canvas.height / 2, '#00ff00', 50);
                drawText("Click to Play Again", canvas.width / 2, canvas.height / 2 + 70, '#fff', 20);
                return;
            }
            update();
            render();
            requestAnimationFrame(gameLoop);
        }

        // --- Event Listeners ---
        function movePaddle(evt) {
            let rect = canvas.getBoundingClientRect();
            player.y = evt.clientY - rect.top - player.height / 2;
        }
        
        canvas.addEventListener('mousemove', movePaddle);
        
        canvas.addEventListener('click', () => {
             if (scores.player >= WINNING_SCORE || scores.ai >= WINNING_SCORE) {
                initializeGame();
                gameLoop();
             }
        });

        // --- Start the game ---
        initializeGame();
        gameLoop();

    </script>
</body>
</html>